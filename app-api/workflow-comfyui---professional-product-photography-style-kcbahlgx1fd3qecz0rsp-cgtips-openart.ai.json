{"last_node_id":38,"last_link_id":36,"nodes":[{"id":4,"type":"CheckpointLoaderSimple","pos":[-437.6729246215818,280.3316151733402],"size":{"0":315,"1":98},"flags":{},"order":0,"mode":0,"outputs":[{"name":"MODEL","type":"MODEL","links":[10],"slot_index":0},{"name":"CLIP","type":"CLIP","links":[3,5],"slot_index":1},{"name":"VAE","type":"VAE","links":[11],"slot_index":2}],"properties":{"Node name for S&R":"CheckpointLoaderSimple"},"widgets_values":["sd15\\epicRealism.safetensors"],"color":"#571a1a","bgcolor":"#6b2e2e"},{"id":7,"type":"CLIPTextEncode","pos":[-62.309521301269555,341.3316151733402],"size":{"0":425.27801513671875,"1":180.6060791015625},"flags":{},"order":14,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":5}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[13],"slot_index":0}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["low quality, blur"],"color":"#572e1a","bgcolor":"#6b422e"},{"id":14,"type":"VAEEncodeForInpaint","pos":[1540.4573015042404,259.4225723605071],"size":{"0":315,"1":98},"flags":{},"order":24,"mode":0,"inputs":[{"name":"pixels","type":"IMAGE","link":34},{"name":"vae","type":"VAE","link":null},{"name":"mask","type":"MASK","link":35}],"outputs":[{"name":"LATENT","type":"LATENT","links":[14],"shape":3}],"properties":{"Node name for S&R":"VAEEncodeForInpaint"},"widgets_values":[0],"color":"#2e571a","bgcolor":"#426b2e"},{"id":30,"type":"ControlNetApplyAdvanced","pos":[1166.6400066094911,138.53806681105422],"size":{"0":315,"1":166},"flags":{},"order":20,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":null},{"name":"negative","type":"CONDITIONING","link":null},{"name":"control_net","type":"CONTROL_NET","link":25,"slot_index":2},{"name":"image","type":"IMAGE","link":26,"slot_index":3}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[32],"shape":3,"slot_index":0},{"name":"negative","type":"CONDITIONING","links":[33],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"ControlNetApplyAdvanced"},"widgets_values":[0.8,0,1],"color":"#43571a","bgcolor":"#576b2e"},{"id":35,"type":"IPAdapterAdvanced","pos":[1125.91380620666,-248.27004645241968],"size":{"0":315,"1":278},"flags":{},"order":16,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":29},{"name":"ipadapter","type":"IPADAPTER","link":28,"slot_index":1},{"name":"image","type":"IMAGE","link":30,"slot_index":2},{"name":"image_negative","type":"IMAGE","link":null},{"name":"attn_mask","type":"MASK","link":null},{"name":"clip_vision","type":"CLIP_VISION","link":null}],"outputs":[{"name":"MODEL","type":"MODEL","links":[36],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"IPAdapterAdvanced"},"widgets_values":[0.5,"strong style transfer","concat",0,1,"V only"]},{"id":31,"type":"ControlNetLoader","pos":[711,140],"size":[400.89574391417864,58],"flags":{},"order":1,"mode":0,"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[25],"shape":3}],"properties":{"Node name for S&R":"ControlNetLoader"},"widgets_values":["sd15\\coadapter-depth-sd15v1.pth"],"color":"#571a1a","bgcolor":"#6b2e2e"},{"id":37,"type":"LoadImage","pos":[745.9527937377935,-281.4627974828341],"size":[315,314.0000114440918],"flags":{},"order":2,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[30],"shape":3},{"name":"MASK","type":"MASK","links":null,"shape":3}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["Table (2).jpg","image"],"color":"#1a5757","bgcolor":"#2e6b6b"},{"id":6,"type":"CLIPTextEncode","pos":[-60.309521301269555,138.33161517333983],"size":{"0":422.84503173828125,"1":164.31304931640625},"flags":{},"order":13,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":3}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[12],"slot_index":0}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["Can of energy drinks on the table, masterpiece"],"color":"#572e1a","bgcolor":"#6b422e"},{"id":36,"type":"IPAdapterUnifiedLoader","pos":[742.5464143432617,-423.18568154655446],"size":{"0":315,"1":78},"flags":{},"order":3,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":null},{"name":"ipadapter","type":"IPADAPTER","link":null}],"outputs":[{"name":"model","type":"MODEL","links":[29],"shape":3,"slot_index":0},{"name":"ipadapter","type":"IPADAPTER","links":[28],"shape":3}],"properties":{"Node name for S&R":"IPAdapterUnifiedLoader"},"widgets_values":["PLUS (high strength)"],"color":"#571a1a","bgcolor":"#6b2e2e"},{"id":38,"type":"Note","pos":[1136.5464143432616,-427.18568154655446],"size":[295.36962354659113,126.49771121485645],"flags":{},"order":4,"mode":0,"properties":{"text":""},"widgets_values":["Use IPAdapter to transfer the style of your reference image to the generated image !"],"color":"#57431a","bgcolor":"#6b572e"},{"id":33,"type":"PreviewImage","pos":[1185.2643352227724,350.7426642841988],"size":[294.1097386467284,191.47580129411165],"flags":{},"order":21,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":27}],"properties":{"Node name for S&R":"PreviewImage"},"color":"#1a5757","bgcolor":"#2e6b6b"},{"id":32,"type":"AIO_Preprocessor","pos":[788,273],"size":{"0":315,"1":82},"flags":{},"order":17,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":31}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[26,27],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"AIO_Preprocessor"},"widgets_values":["Zoe_DepthAnythingPreprocessor",512]},{"id":34,"type":"Note","pos":[714,404],"size":[441.65941578917864,133.27351755568316],"flags":{},"order":5,"mode":0,"properties":{"text":""},"widgets_values":["To ensure that the product's shape does not change and remains consistent in the generated image, we use ControlNet."],"color":"#57431a","bgcolor":"#6b572e"},{"id":13,"type":"Note","pos":[412.940628845215,346.6681401367188],"size":[243.2452392578125,132.06350708007812],"flags":{},"order":6,"mode":0,"properties":{"text":""},"widgets_values":["To reduce the lines between nodes, use the \"Use Everywhere Node\""],"color":"#57431a","bgcolor":"#6b572e"},{"id":12,"type":"Prompts Everywhere","pos":[426.940628845215,241.66814013671876],"size":{"0":210,"1":46},"flags":{},"order":19,"mode":0,"inputs":[{"name":"CONDITIONING","type":"*","link":12,"color_on":"#FFA931"},{"name":"CONDITIONING","type":"*","link":13,"color_on":"#FFA931"}],"properties":{"group_restricted":0,"color_restricted":0,"Node name for S&R":"Prompts Everywhere"},"widgets_values":[]},{"id":11,"type":"Anything Everywhere","pos":[-302.059371154785,441.6681401367188],"size":{"0":210,"1":26},"flags":{"collapsed":true},"order":15,"mode":0,"inputs":[{"name":"VAE","type":"*","link":11,"color_on":"#FF6E6E"}],"properties":{"group_restricted":0,"color_restricted":0,"Node name for S&R":"Anything Everywhere"},"widgets_values":["<comfy.sd.VAE object at 0x000001C015FD3810>"]},{"id":10,"type":"Anything Everywhere","pos":[-300.059371154785,208.66814013671876],"size":{"0":210,"1":26},"flags":{"collapsed":true},"order":12,"mode":0,"inputs":[{"name":"MODEL","type":"*","link":10,"color_on":"#B39DDB"}],"properties":{"group_restricted":0,"color_restricted":0,"Node name for S&R":"Anything Everywhere"},"widgets_values":["<comfy.model_patcher.ModelPatcher object at 0x000001C017719FD0>"]},{"id":24,"type":"LoadImage","pos":[116.99359885379025,676.9995027469482],"size":[315,314.00002670288086],"flags":{"collapsed":false},"order":7,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[22,31],"shape":3,"slot_index":0},{"name":"MASK","type":"MASK","links":null,"shape":3}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["Energy Drink (2).jpg","image"],"color":"#1a5757","bgcolor":"#2e6b6b"},{"id":17,"type":"GroundingDinoModelLoader (segment anything)","pos":[461.99359885379033,794.9995027469482],"size":[390.9615088372748,64.95668886610815],"flags":{},"order":8,"mode":0,"outputs":[{"name":"GROUNDING_DINO_MODEL","type":"GROUNDING_DINO_MODEL","links":[16],"shape":3}],"properties":{"Node name for S&R":"GroundingDinoModelLoader (segment anything)"},"widgets_values":["GroundingDINO_SwinT_OGC (694MB)"],"color":"#571a1a","bgcolor":"#6b2e2e"},{"id":16,"type":"SAMModelLoader (segment anything)","pos":[489.99359885379033,675.9995027469482],"size":{"0":315,"1":58},"flags":{},"order":9,"mode":0,"outputs":[{"name":"SAM_MODEL","type":"SAM_MODEL","links":[15],"shape":3}],"properties":{"Node name for S&R":"SAMModelLoader (segment anything)"},"widgets_values":["sam_vit_b (375MB)"],"color":"#571a1a","bgcolor":"#6b2e2e"},{"id":23,"type":"TextInput_","pos":[520.9935988537903,925.9995027469482],"size":[273.5313415527344,95.66898193359361],"flags":{},"order":10,"mode":0,"outputs":[{"name":"STRING","type":"STRING","links":[21],"shape":3}],"title":"Product Name","properties":{"Node name for S&R":"TextInput_"},"widgets_values":["energy drink can"]},{"id":15,"type":"GroundingDinoSAMSegment (segment anything)","pos":[946.9935988537903,699.9995027469482],"size":[352.79998779296875,122],"flags":{},"order":18,"mode":0,"inputs":[{"name":"sam_model","type":"SAM_MODEL","link":15,"slot_index":0},{"name":"grounding_dino_model","type":"GROUNDING_DINO_MODEL","link":16,"slot_index":1},{"name":"image","type":"IMAGE","link":22,"slot_index":2},{"name":"prompt","type":"STRING","link":21,"widget":{"name":"prompt"},"slot_index":3}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[34],"shape":3,"slot_index":0},{"name":"MASK","type":"MASK","links":[23],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"GroundingDinoSAMSegment (segment anything)"},"widgets_values":["",0.35000000000000003]},{"id":25,"type":"InvertMask","pos":[1369.99359885379,717.9995027469482],"size":{"0":210,"1":26},"flags":{},"order":22,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":23}],"outputs":[{"name":"MASK","type":"MASK","links":[24,35],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"InvertMask"},"color":"#1a5743","bgcolor":"#2e6b57"},{"id":26,"type":"MaskPreview+","pos":[1364.99359885379,800.9995027469482],"size":[213.49261830895375,147.77626969857965],"flags":{},"order":23,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":24}],"properties":{"Node name for S&R":"MaskPreview+"},"color":"#1a5743","bgcolor":"#2e6b57"},{"id":29,"type":"Note","pos":[909.9935988537903,869.9995027469482],"size":[422.39636562340706,185.6928856043412],"flags":{},"order":11,"mode":0,"properties":{"text":""},"widgets_values":["Based on GroundingDino and SAM, use semantic string to segment any element in the image.\n\nTo download the required models, please visit the Github page of the \"custom node\"."],"color":"#57431a","bgcolor":"#6b572e"},{"id":3,"type":"KSampler","pos":[1888,139],"size":{"0":315,"1":262},"flags":{},"order":25,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":36},{"name":"positive","type":"CONDITIONING","link":32},{"name":"negative","type":"CONDITIONING","link":33},{"name":"latent_image","type":"LATENT","link":14,"slot_index":3}],"outputs":[{"name":"LATENT","type":"LATENT","links":[7],"slot_index":0}],"properties":{"Node name for S&R":"KSampler"},"widgets_values":[9556503429218,"randomize",10,2,"dpmpp_2m","karras",1],"color":"#57571a","bgcolor":"#6b6b2e"},{"id":9,"type":"SaveImage","pos":[2462,142],"size":[411.4921819844144,270.3372693527128],"flags":{},"order":27,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":9}],"properties":{},"widgets_values":["ComfyUI"],"color":"#1a5757","bgcolor":"#2e6b6b"},{"id":8,"type":"VAEDecode","pos":[2227,141],"size":{"0":210,"1":46},"flags":{},"order":26,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":7},{"name":"vae","type":"VAE","link":null}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[9],"slot_index":0}],"properties":{"Node name for S&R":"VAEDecode"},"color":"#2e571a","bgcolor":"#426b2e"}],"links":[[3,4,1,6,0,"CLIP"],[5,4,1,7,0,"CLIP"],[7,3,0,8,0,"LATENT"],[9,8,0,9,0,"IMAGE"],[10,4,0,10,0,"MODEL"],[11,4,2,11,0,"VAE"],[12,6,0,12,0,"CONDITIONING"],[13,7,0,12,1,"CONDITIONING"],[14,14,0,3,3,"LATENT"],[15,16,0,15,0,"SAM_MODEL"],[16,17,0,15,1,"GROUNDING_DINO_MODEL"],[21,23,0,15,3,"STRING"],[22,24,0,15,2,"IMAGE"],[23,15,1,25,0,"MASK"],[24,25,0,26,0,"MASK"],[25,31,0,30,2,"CONTROL_NET"],[26,32,0,30,3,"IMAGE"],[27,32,0,33,0,"IMAGE"],[28,36,1,35,1,"IPADAPTER"],[29,36,0,35,0,"MODEL"],[30,37,0,35,2,"IMAGE"],[31,24,0,32,0,"IMAGE"],[32,30,0,3,1,"CONDITIONING"],[33,30,1,3,2,"CONDITIONING"],[34,15,0,14,0,"IMAGE"],[35,25,0,14,2,"MASK"],[36,35,0,3,0,"MODEL"]],"groups":[{"title":"Checkpoint & Prompts","bounding":[-448,64,1114,468],"color":"#3f789e","font_size":24},{"title":"Raw Image","bounding":[1530,65,1353,357],"color":"#3f789e","font_size":24},{"title":"Masking","bounding":[107,602,1483,464],"color":"#a1309b","font_size":24},{"title":"ControlNet","bounding":[701,65,791,488],"color":"#88A","font_size":24},{"title":"IPAdapter","bounding":[733,-501,718,544],"color":"#3f789e","font_size":24}],"config":{},"extra":{"ds":{"scale":0.5644739300537779,"offset":[-304.2322837269635,403.0123418905033]}},"version":0.4}